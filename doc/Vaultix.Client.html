<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.19.1">
    <title>Vaultix.Client â€“ vaultix v0.9.0</title>
    <link rel="stylesheet" href="dist/app-091c05798a.css" />
      <link rel="canonical" href="https://hexdocs.pm/vaultix/Vaultix.Client.html" />
    <script src="dist/sidebar_items-99d0d391cb.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>
    <div class="main">
<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<button class="sidebar-button night-mode-toggle">
  <span class="icon-theme" aria-hidden="true"></span>
  <span class="sr-only">Toggle Theme</span>
</button>
<section class="sidebar">

  <a href="api-reference.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
vaultix      </h1>
      <h2 class="sidebar-projectVersion">
        v0.9.0
      </h2>
    </div>
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="Search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">vaultix v0.9.0</small>
Vaultix.Client              </h1>


        <section id="moduledoc">
<p>Provides a functionality to authenticate and read from a vault endpoint.</p>
        </section>

        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#auth/3">auth(method, credentials, timeout \\ 5000)</a>
  </div>
    <div class="summary-synopsis"><p>Authenticates with vault using a tuple. This can be executed before attempting to read secrets from vault</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#child_spec/1">child_spec(arg)</a>
  </div>
    <div class="summary-synopsis"><p>Returns a specification to start this module under a supervisor</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete/4">delete(key, auth_method, credentials, timeout \\ 5000)</a>
  </div>
    <div class="summary-synopsis"><p>Deletes a secret to Vault given a path</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#init/1">init(state)</a>
  </div>
    <div class="summary-synopsis"><p>Invoked when the server is started. <code class="inline">start_link/3</code> or <code class="inline">start/3</code> will
block until it returns</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#read/4">read(key, auth_method, credentials, timeout \\ 5000)</a>
  </div>
    <div class="summary-synopsis"><p>Reads a secret from vault given a path</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start_link/0">start_link()</a>
  </div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#write/5">write(key, value, auth_method, credentials, timeout \\ 5000)</a>
  </div>
    <div class="summary-synopsis"><p>Writes a secret to Vault given a path</p>
</div>
</div>
  </div>
          
        </section>



        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Functions
          </h1>
<div class="detail" id="auth/3">
  
    <span id="auth/2"></span>
  <div class="detail-header">
    <a href="#auth/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">auth(method, credentials, timeout \\ 5000)</span>
        
      <div class="specs">
          <pre>auth(
  method :: :approle,
  credentials :: {role_id :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), secret_id :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()},
  timeout :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | nil
) :: {:ok | :error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>
          <pre>auth(
  method :: :app_id,
  credentials :: {app_id :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), user_id :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()},
  timeout :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | nil
) :: {:ok | :error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>
          <pre>auth(
  method :: :userpass,
  credentials :: {username :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), password :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()},
  timeout :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | nil
) :: {:ok | :error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>
          <pre>auth(
  method :: :github,
  credentials :: {github_token :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()},
  timeout :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | nil
) :: {:ok | :error, <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">any</a>()}</pre>
          <pre>auth(
  method :: :token,
  credentials :: {token :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()},
  timeout :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | nil
) :: {:ok, :authenticated}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Authenticates with vault using a tuple. This can be executed before attempting to read secrets from vault.</p>
<h2 id="auth/3-parameters" class="section-heading">
  <a href="#auth/3-parameters" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Parameters
</h2>

<ul>
<li>method: Auth backend to use for authenticating, can be one of <code class="inline">:approle, :app_id, :userpass, :github, :token</code>
</li>
<li>credentials: A tuple or map used for authentication depending on the method, <code class="inline">{role_id, secret_id}</code> for <code class="inline">:approle</code>, <code class="inline">{app_id, user_id}</code> for <code class="inline">:app_id</code>, <code class="inline">{username, password}</code> for <code class="inline">:userpass</code>, <code class="inline">{github_token}</code> for <code class="inline">:github</code>, <code class="inline">{token}</code> for <code class="inline">:token</code>, or json-encodable map for unhandled methods, i.e. <code class="inline">%{jwt: &quot;jwt&quot;, role: &quot;role&quot;}</code> for <code class="inline">:kubernetes</code>
</li>
<li>timeout: A integer greater than zero which specifies how many milliseconds to wait for a reply
</li>
</ul>
<h2 id="auth/3-examples" class="section-heading">
  <a href="#auth/3-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">auth</span><span class="p" data-group-id="9285182899-1">(</span><span class="ss">:approle</span><span class="w"> </span><span class="p" data-group-id="9285182899-2">{</span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">secret_id</span><span class="p" data-group-id="9285182899-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="9285182899-1">)</span><span class="w">
</span><span class="p" data-group-id="9285182899-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:authenticated</span><span class="p" data-group-id="9285182899-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">auth</span><span class="p" data-group-id="9285182899-4">(</span><span class="ss">:app_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9285182899-5">{</span><span class="n">app_id</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p" data-group-id="9285182899-5">}</span><span class="p" data-group-id="9285182899-4">)</span><span class="w">
</span><span class="p" data-group-id="9285182899-6">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:authenticated</span><span class="p" data-group-id="9285182899-6">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">auth</span><span class="p" data-group-id="9285182899-7">(</span><span class="ss">:userpass</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9285182899-8">{</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p" data-group-id="9285182899-8">}</span><span class="p" data-group-id="9285182899-7">)</span><span class="w">
</span><span class="p" data-group-id="9285182899-9">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9285182899-10">[</span><span class="s">&quot;Something didn&#39;t work&quot;</span><span class="p" data-group-id="9285182899-10">]</span><span class="p" data-group-id="9285182899-9">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">auth</span><span class="p" data-group-id="9285182899-11">(</span><span class="ss">:github</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9285182899-12">{</span><span class="n">github_token</span><span class="p" data-group-id="9285182899-12">}</span><span class="p" data-group-id="9285182899-11">)</span><span class="w">
</span><span class="p" data-group-id="9285182899-13">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:authenticated</span><span class="p" data-group-id="9285182899-13">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">auth</span><span class="p" data-group-id="9285182899-14">(</span><span class="ss">:jwt</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9285182899-15">%{</span><span class="ss">jwt</span><span class="p">:</span><span class="w"> </span><span class="n">jwt</span><span class="p">,</span><span class="w"> </span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="n">role</span><span class="p" data-group-id="9285182899-15">}</span><span class="p" data-group-id="9285182899-14">)</span><span class="w">
</span><span class="p" data-group-id="9285182899-16">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="ss">:authenticated</span><span class="p" data-group-id="9285182899-16">}</span></code></pre>
  </section>
</div>
<div class="detail" id="child_spec/1">
    <div class="detail-header">
    <a href="#child_spec/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">child_spec(arg)</span>
          </div>
  <section class="docstring">
<p>Returns a specification to start this module under a supervisor.</p>
<p>See <a href="https://hexdocs.pm/elixir/Supervisor.html"><code class="inline">Supervisor</code></a>.</p>
  </section>
</div>
<div class="detail" id="delete/4">
  
    <span id="delete/3"></span>
  <div class="detail-header">
    <a href="#delete/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">delete(key, auth_method, credentials, timeout \\ 5000)</span>
          </div>
  <section class="docstring">
<p>Deletes a secret to Vault given a path.</p>
<h2 id="delete/4-parameters" class="section-heading">
  <a href="#delete/4-parameters" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Parameters
</h2>

<ul>
<li>key: A String path where the secret will be deleted.
</li>
<li>auth_method and credentials: See Vaultix.Client.auth
</li>
<li>timeout: A integer greater than zero which specifies how many milliseconds to wait for a reply
</li>
</ul>
<h2 id="delete/4-examples" class="section-heading">
  <a href="#delete/4-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">delete</span><span class="p" data-group-id="7853555849-1">(</span><span class="s">&quot;secret/foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:app_role</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7853555849-2">{</span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">secret_id</span><span class="p" data-group-id="7853555849-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="7853555849-1">)</span><span class="w">
</span><span class="ss">:ok</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">delete</span><span class="p" data-group-id="7853555849-3">(</span><span class="s">&quot;secret/foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:app_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7853555849-4">{</span><span class="n">app_id</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p" data-group-id="7853555849-4">}</span><span class="p" data-group-id="7853555849-3">)</span><span class="w">
</span><span class="ss">:ok</span></code></pre>
  </section>
</div>
<div class="detail" id="init/1">
    <div class="detail-header">
    <a href="#init/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">init(state)</span>
          </div>
  <section class="docstring">
<p>Invoked when the server is started. <code class="inline">start_link/3</code> or <code class="inline">start/3</code> will
block until it returns.</p>
<p><code class="inline">args</code> is the argument term (second argument) passed to <code class="inline">start_link/3</code>.</p>
<p>Returning <code class="inline">{:ok, state}</code> will cause <code class="inline">start_link/3</code> to return
<code class="inline">{:ok, pid}</code> and the process to enter its loop.</p>
<p>Returning <code class="inline">{:ok, state, timeout}</code> is similar to <code class="inline">{:ok, state}</code>
except <code class="inline">handle_info(:timeout, state)</code> will be called after <code class="inline">timeout</code>
milliseconds if no messages are received within the timeout.</p>
<p>Returning <code class="inline">{:ok, state, :hibernate}</code> is similar to <code class="inline">{:ok, state}</code>
except the process is hibernated before entering the loop. See
<code class="inline">c:handle_call/3</code> for more information on hibernation.</p>
<p>Returning <code class="inline">{:ok, state, {:continue, continue}}</code> is similar to
<code class="inline">{:ok, state}</code> except that immediately after entering the loop
the <code class="inline">c:handle_continue/2</code> callback will be invoked with the value
<code class="inline">continue</code> as first argument.</p>
<p>Returning <code class="inline">:ignore</code> will cause <code class="inline">start_link/3</code> to return <code class="inline">:ignore</code> and
the process will exit normally without entering the loop or calling
<code class="inline">c:terminate/2</code>. If used when part of a supervision tree the parent
supervisor will not fail to start nor immediately try to restart the
<a href="https://hexdocs.pm/elixir/GenServer.html"><code class="inline">GenServer</code></a>. The remainder of the supervision tree will be started
and so the <a href="https://hexdocs.pm/elixir/GenServer.html"><code class="inline">GenServer</code></a> should not be required by other processes.
It can be started later with <a href="https://hexdocs.pm/elixir/Supervisor.html#restart_child/2"><code class="inline">Supervisor.restart_child/2</code></a> as the child
specification is saved in the parent supervisor. The main use cases for
this are:</p>
<ul>
<li>The <a href="https://hexdocs.pm/elixir/GenServer.html"><code class="inline">GenServer</code></a> is disabled by configuration but might be enabled later.
</li>
<li>An error occurred and it will be handled by a different mechanism than the
   <a href="https://hexdocs.pm/elixir/Supervisor.html"><code class="inline">Supervisor</code></a>. Likely this approach involves calling <a href="https://hexdocs.pm/elixir/Supervisor.html#restart_child/2"><code class="inline">Supervisor.restart_child/2</code></a>
after a delay to attempt a restart.
</li>
</ul>
<p>Returning <code class="inline">{:stop, reason}</code> will cause <code class="inline">start_link/3</code> to return
<code class="inline">{:error, reason}</code> and the process to exit with reason <code class="inline">reason</code> without
entering the loop or calling <code class="inline">c:terminate/2</code>.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/elixir/GenServer.html#c:init/1"><code class="inline">GenServer.init/1</code></a>.</p>
  </section>
</div>
<div class="detail" id="read/4">
  
    <span id="read/3"></span>
  <div class="detail-header">
    <a href="#read/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">read(key, auth_method, credentials, timeout \\ 5000)</span>
          </div>
  <section class="docstring">
<p>Reads a secret from vault given a path.</p>
<h2 id="read/4-parameters" class="section-heading">
  <a href="#read/4-parameters" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Parameters
</h2>

<ul>
<li>key: A String path to be used for querying vault.
</li>
<li>auth_method and credentials: See Vaultix.Client.auth
</li>
<li>timeout: A integer greater than zero which specifies how many milliseconds to wait for a reply
</li>
</ul>
<h2 id="read/4-examples" class="section-heading">
  <a href="#read/4-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0000271099-1">(</span><span class="s">&quot;secret/foobar&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:approle</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-2">{</span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">secret_id</span><span class="p" data-group-id="0000271099-2">}</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="0000271099-1">)</span><span class="w">
</span><span class="p" data-group-id="0000271099-3">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-4">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="0000271099-4">}</span><span class="p" data-group-id="0000271099-3">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0000271099-5">(</span><span class="s">&quot;secret/foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:app_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-6">{</span><span class="n">app_id</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p" data-group-id="0000271099-6">}</span><span class="p" data-group-id="0000271099-5">)</span><span class="w">
</span><span class="p" data-group-id="0000271099-7">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-8">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="0000271099-8">}</span><span class="p" data-group-id="0000271099-7">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0000271099-9">(</span><span class="s">&quot;secret/baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:userpass</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-10">{</span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p" data-group-id="0000271099-10">}</span><span class="p" data-group-id="0000271099-9">)</span><span class="w">
</span><span class="p" data-group-id="0000271099-11">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-12">[</span><span class="s">&quot;Key not found&quot;</span><span class="p" data-group-id="0000271099-12">]</span><span class="p" data-group-id="0000271099-11">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0000271099-13">(</span><span class="s">&quot;secret/bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:github</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-14">{</span><span class="n">github_token</span><span class="p" data-group-id="0000271099-14">}</span><span class="p" data-group-id="0000271099-13">)</span><span class="w">
</span><span class="p" data-group-id="0000271099-15">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-16">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="0000271099-16">}</span><span class="p" data-group-id="0000271099-15">}</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0000271099-17">(</span><span class="s">&quot;secret/bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">:plugin_defined_auth</span><span class="p">,</span><span class="w"> </span><span class="n">credentials</span><span class="p" data-group-id="0000271099-17">)</span><span class="w">
</span><span class="p" data-group-id="0000271099-18">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0000271099-19">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="0000271099-19">}</span><span class="p" data-group-id="0000271099-18">}</span></code></pre>
  </section>
</div>
<div class="detail" id="start_link/0">
    <div class="detail-header">
    <a href="#start_link/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">start_link()</span>
          </div>
  <section class="docstring">
  </section>
</div>
<div class="detail" id="write/5">
  
    <span id="write/4"></span>
  <div class="detail-header">
    <a href="#write/5" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">write(key, value, auth_method, credentials, timeout \\ 5000)</span>
          </div>
  <section class="docstring">
<p>Writes a secret to Vault given a path.</p>
<h2 id="write/5-parameters" class="section-heading">
  <a href="#write/5-parameters" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Parameters
</h2>

<ul>
<li>key: A String path where the secret will be written.
</li>
<li>value: A String =&gt; String map that will be stored in Vault
</li>
<li>auth_method and credentials: See Vaultix.Client.auth
</li>
<li>timeout: A integer greater than zero which specifies how many milliseconds to wait for a reply
</li>
</ul>
<h2 id="write/5-examples" class="section-heading">
  <a href="#write/5-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="nohighlight makeup elixir"><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">write</span><span class="p" data-group-id="4304595282-1">(</span><span class="s">&quot;secret/foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4304595282-2">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="4304595282-2">}</span><span class="p">,</span><span class="w"> </span><span class="ss">:app_role</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4304595282-3">{</span><span class="n">role_id</span><span class="p">,</span><span class="w"> </span><span class="n">secret_id</span><span class="p" data-group-id="4304595282-3">}</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p" data-group-id="4304595282-1">)</span><span class="w">
</span><span class="ss">:ok</span><span class="w">

</span><span class="gp unselectable">iex&gt; </span><span class="nc">Vaultix.Client</span><span class="o">.</span><span class="n">write</span><span class="p" data-group-id="4304595282-4">(</span><span class="s">&quot;secret/foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4304595282-5">%{</span><span class="s">&quot;value&quot;</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p" data-group-id="4304595282-5">}</span><span class="p">,</span><span class="w"> </span><span class="ss">:app_id</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4304595282-6">{</span><span class="n">app_id</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p" data-group-id="4304595282-6">}</span><span class="p" data-group-id="4304595282-4">)</span><span class="w">
</span><span class="ss">:ok</span></code></pre>
  </section>
</div>
        </section>

          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.19.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-574613960f.js"></script>
  
  </body>
</html>

